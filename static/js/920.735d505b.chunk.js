"use strict";(self.webpackChunklearnReact=self.webpackChunklearnReact||[]).push([[920],{9920:(e,t,n)=>{n.r(t),n.d(t,{default:()=>de});var o=n(5043),r=n(8139),a=n.n(r),c=n(9635),s=n(3758),i=n(167);const l=["xxl","xl","lg","md","sm","xs"],d=e=>({xs:"(max-width: ".concat(e.screenXSMax,"px)"),sm:"(min-width: ".concat(e.screenSM,"px)"),md:"(min-width: ".concat(e.screenMD,"px)"),lg:"(min-width: ".concat(e.screenLG,"px)"),xl:"(min-width: ".concat(e.screenXL,"px)"),xxl:"(min-width: ".concat(e.screenXXL,"px)")}),p=e=>{const t=e,n=[].concat(l).reverse();return n.forEach(((e,o)=>{const r=e.toUpperCase(),a="screen".concat(r,"Min"),c="screen".concat(r);if(!(t[a]<=t[c]))throw new Error("".concat(a,"<=").concat(c," fails : !(").concat(t[a],"<=").concat(t[c],")"));if(o<n.length-1){const e="screen".concat(r,"Max");if(!(t[c]<=t[e]))throw new Error("".concat(c,"<=").concat(e," fails : !(").concat(t[c],"<=").concat(t[e],")"));const a=n[o+1].toUpperCase(),s="screen".concat(a,"Min");if(!(t[e]<=t[s]))throw new Error("".concat(e,"<=").concat(s," fails : !(").concat(t[e],"<=").concat(t[s],")"))}})),e};var u=n(5296),g=n(8887),m=n(4155),v=n(2664);const h=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,o.useRef)({}),n=function(){const[,e]=o.useReducer((e=>e+1),0);return e}(),r=function(){const[,e]=(0,i.Ay)(),t=d(p(e));return o.useMemo((()=>{const e=new Map;let n=-1,o={};return{matchHandlers:{},dispatch:t=>(o=t,e.forEach((e=>e(o))),e.size>=1),subscribe(t){return e.size||this.register(),n+=1,e.set(n,t),t(o),n},unsubscribe(t){e.delete(t),e.size||this.unregister()},unregister(){Object.keys(t).forEach((e=>{const n=t[e],o=this.matchHandlers[n];null===o||void 0===o||o.mql.removeListener(null===o||void 0===o?void 0:o.listener)})),e.clear()},register(){Object.keys(t).forEach((e=>{const n=t[e],r=t=>{let{matches:n}=t;this.dispatch(Object.assign(Object.assign({},o),{[e]:n}))},a=window.matchMedia(n);a.addListener(r),this.matchHandlers[n]={mql:a,listener:r},r(a)}))},responsiveMap:t}}),[e])}();return(0,v.A)((()=>{const o=r.subscribe((o=>{t.current=o,e&&n()}));return()=>r.unsubscribe(o)}),[]),t.current},f=o.createContext({});var x=n(3944),b=n(4414),y=n(7718),O=n(8446);const C=e=>{const{antCls:t,componentCls:n,iconCls:o,avatarBg:r,avatarColor:a,containerSize:c,containerSizeLG:s,containerSizeSM:i,textFontSize:l,textFontSizeLG:d,textFontSizeSM:p,borderRadius:u,borderRadiusLG:g,borderRadiusSM:m,lineWidth:v,lineType:h}=e,f=(e,t,r)=>({width:e,height:e,borderRadius:"50%",["&".concat(n,"-square")]:{borderRadius:r},["&".concat(n,"-icon")]:{fontSize:t,["> ".concat(o)]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,b.dF)(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:a,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:r,border:"".concat((0,x.zA)(v)," ").concat(h," transparent"),"&-image":{background:"transparent"},["".concat(t,"-image-img")]:{display:"block"}}),f(c,l,u)),{"&-lg":Object.assign({},f(s,d,g)),"&-sm":Object.assign({},f(i,p,m)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},S=e=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:o,groupSpace:r}=e;return{["".concat(t,"-group")]:{display:"inline-flex",["".concat(t)]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:o}},["".concat(t,"-group-popover")]:{["".concat(t," + ").concat(t)]:{marginInlineStart:r}}}},j=(0,y.OF)("Avatar",(e=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=e,o=(0,O.oX)(e,{avatarBg:n,avatarColor:t});return[C(o),S(o)]}),(e=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:o,fontSize:r,fontSizeLG:a,fontSizeXL:c,fontSizeHeading3:s,marginXS:i,marginXXS:l,colorBorderBg:d}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:o,textFontSize:Math.round((a+c)/2),textFontSizeLG:s,textFontSizeSM:r,groupSpace:l,groupOverlapping:-i,groupBorderColor:d}}));var w=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const E=(e,t)=>{const[n,r]=o.useState(1),[i,d]=o.useState(!1),[p,v]=o.useState(!0),x=o.useRef(null),b=o.useRef(null),y=(0,s.K4)(t,x),{getPrefixCls:O,avatar:C}=o.useContext(u.QO),S=o.useContext(f),E=()=>{if(!b.current||!x.current)return;const t=b.current.offsetWidth,n=x.current.offsetWidth;if(0!==t&&0!==n){const{gap:o=4}=e;2*o<n&&r(n-2*o<t?(n-2*o)/t:1)}};o.useEffect((()=>{d(!0)}),[]),o.useEffect((()=>{v(!0),r(1)}),[e.src]),o.useEffect(E,[e.gap]);const z=()=>{const{onError:t}=e;!1!==(null===t||void 0===t?void 0:t())&&v(!1)},{prefixCls:N,shape:P,size:k,src:M,srcSet:B,icon:R,className:A,rootClassName:L,alt:W,draggable:I,children:H,crossOrigin:T}=e,_=w(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),F=(0,m.A)((e=>{var t,n;return null!==(n=null!==(t=null!==k&&void 0!==k?k:null===S||void 0===S?void 0:S.size)&&void 0!==t?t:e)&&void 0!==n?n:"default"})),G=Object.keys("object"===typeof F&&F||{}).some((e=>["xs","sm","md","lg","xl","xxl"].includes(e))),D=h(G),X=o.useMemo((()=>{if("object"!==typeof F)return{};const e=l.find((e=>D[e])),t=F[e];return t?{width:t,height:t,fontSize:t&&(R||H)?t/2:18}:{}}),[D,F]);const V=O("avatar",N),K=(0,g.A)(V),[Q,U,q]=j(V,K),Y=a()({["".concat(V,"-lg")]:"large"===F,["".concat(V,"-sm")]:"small"===F}),J=o.isValidElement(M),Z=P||(null===S||void 0===S?void 0:S.shape)||"circle",$=a()(V,Y,null===C||void 0===C?void 0:C.className,"".concat(V,"-").concat(Z),{["".concat(V,"-image")]:J||M&&p,["".concat(V,"-icon")]:!!R},q,K,A,L,U),ee="number"===typeof F?{width:F,height:F,fontSize:R?F/2:18}:{};let te;if("string"===typeof M&&p)te=o.createElement("img",{src:M,draggable:I,srcSet:B,onError:z,alt:W,crossOrigin:T});else if(J)te=M;else if(R)te=R;else if(i||1!==n){const e="scale(".concat(n,")"),t={msTransform:e,WebkitTransform:e,transform:e};te=o.createElement(c.A,{onResize:E},o.createElement("span",{className:"".concat(V,"-string"),ref:b,style:Object.assign({},t)},H))}else te=o.createElement("span",{className:"".concat(V,"-string"),style:{opacity:0},ref:b},H);return delete _.onError,delete _.gap,Q(o.createElement("span",Object.assign({},_,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ee),X),null===C||void 0===C?void 0:C.style),_.style),className:$,ref:y}),te))};const z=o.forwardRef(E);var N=n(2149),P=n(2701),k=n(8678),M=n(5001);const B=e=>e?"function"===typeof e?e():e:null;var R=n(3290),A=n(3582),L=n(7659),W=n(5814),I=n(6208),H=n(2094),T=n(2979);const _=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:o,fontWeightStrong:r,innerPadding:a,boxShadowSecondary:c,colorTextHeading:s,borderRadiusLG:i,zIndexPopup:l,titleMarginBottom:d,colorBgElevated:p,popoverBg:u,titleBorderBottom:g,innerContentPadding:m,titlePadding:v}=e;return[{[t]:Object.assign(Object.assign({},(0,b.dF)(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:l,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":p,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},["".concat(t,"-content")]:{position:"relative"},["".concat(t,"-inner")]:{backgroundColor:u,backgroundClip:"padding-box",borderRadius:i,boxShadow:c,padding:a},["".concat(t,"-title")]:{minWidth:o,marginBottom:d,color:s,fontWeight:r,borderBottom:g,padding:v},["".concat(t,"-inner-content")]:{color:n,padding:m}})},(0,I.Ay)(e,"var(--antd-arrow-background-color)"),{["".concat(t,"-pure")]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",["".concat(t,"-content")]:{display:"inline-block"}}}]},F=e=>{const{componentCls:t}=e;return{[t]:T.s.map((n=>{const o=e["".concat(n,"6")];return{["&".concat(t,"-").concat(n)]:{"--antd-arrow-background-color":o,["".concat(t,"-inner")]:{backgroundColor:o},["".concat(t,"-arrow")]:{background:"transparent"}}}}))}},G=(0,y.OF)("Popover",(e=>{const{colorBgElevated:t,colorText:n}=e,o=(0,O.oX)(e,{popoverBg:t,popoverColor:n});return[_(o),F(o),(0,W.aB)(o,"zoom-big")]}),(e=>{const{lineWidth:t,controlHeight:n,fontHeight:o,padding:r,wireframe:a,zIndexPopupBase:c,borderRadiusLG:s,marginXS:i,lineType:l,colorSplit:d,paddingSM:p}=e,u=n-o,g=u/2,m=u/2-t,v=r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:c+30},(0,H.n)(e)),(0,I.Ke)({contentRadius:s,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:i,titlePadding:a?"".concat(g,"px ").concat(v,"px ").concat(m,"px"):0,titleBorderBottom:a?"".concat(t,"px ").concat(l," ").concat(d):"none",innerContentPadding:a?"".concat(p,"px ").concat(v,"px"):0})}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var D=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const X=e=>{let{title:t,content:n,prefixCls:r}=e;return t||n?o.createElement(o.Fragment,null,t&&o.createElement("div",{className:"".concat(r,"-title")},t),n&&o.createElement("div",{className:"".concat(r,"-inner-content")},n)):null},V=e=>{const{hashId:t,prefixCls:n,className:r,style:c,placement:s="top",title:i,content:l,children:d}=e,p=B(i),u=B(l),g=a()(t,n,"".concat(n,"-pure"),"".concat(n,"-placement-").concat(s),r);return o.createElement("div",{className:g,style:c},o.createElement("div",{className:"".concat(n,"-arrow")}),o.createElement(L.z,Object.assign({},e,{className:t,prefixCls:n}),d||o.createElement(X,{prefixCls:n,title:p,content:u})))},K=e=>{const{prefixCls:t,className:n}=e,r=D(e,["prefixCls","className"]),{getPrefixCls:c}=o.useContext(u.QO),s=c("popover",t),[i,l,d]=G(s);return i(o.createElement(V,Object.assign({},r,{prefixCls:s,hashId:l,className:a()(n,d)})))};var Q=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const U=o.forwardRef(((e,t)=>{var n,r;const{prefixCls:c,title:s,content:i,overlayClassName:l,placement:d="top",trigger:p="hover",children:g,mouseEnterDelay:m=.1,mouseLeaveDelay:v=.1,onOpenChange:h,overlayStyle:f={}}=e,x=Q(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:b}=o.useContext(u.QO),y=b("popover",c),[O,C,S]=G(y),j=b(),w=a()(l,C,S),[E,z]=(0,k.A)(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),N=(e,t)=>{z(e,!0),null===h||void 0===h||h(e,t)},L=B(s),W=B(i);return O(o.createElement(A.A,Object.assign({placement:d,trigger:p,mouseEnterDelay:m,mouseLeaveDelay:v,overlayStyle:f},x,{prefixCls:y,overlayClassName:w,ref:t,open:E,onOpenChange:e=>{N(e)},overlay:L||W?o.createElement(X,{prefixCls:y,title:L,content:W}):null,transitionName:(0,R.b)(j,"zoom-big",x.transitionName),"data-popover-inject":!0}),(0,P.Ob)(g,{onKeyDown:e=>{var t,n;o.isValidElement(g)&&(null===(n=null===g||void 0===g?void 0:(t=g.props).onKeyDown)||void 0===n||n.call(t,e)),(e=>{e.keyCode===M.A.ESC&&N(!1,e)})(e)}})))}));U._InternalPanelDoNotUseOrYouWillBeFired=K;const q=U,Y=e=>{const{size:t,shape:n}=o.useContext(f),r=o.useMemo((()=>({size:e.size||t,shape:e.shape||n})),[e.size,e.shape,t,n]);return o.createElement(f.Provider,{value:r},e.children)},J=e=>{var t,n,r;const{getPrefixCls:c,direction:s}=o.useContext(u.QO),{prefixCls:i,className:l,rootClassName:d,style:p,maxCount:m,maxStyle:v,size:h,shape:f,maxPopoverPlacement:x,maxPopoverTrigger:b,children:y,max:O}=e;const C=c("avatar",i),S="".concat(C,"-group"),w=(0,g.A)(C),[E,k,M]=j(C,w),B=a()(S,{["".concat(S,"-rtl")]:"rtl"===s},M,w,l,d,k),R=(0,N.A)(y).map(((e,t)=>(0,P.Ob)(e,{key:"avatar-key-".concat(t)}))),A=(null===O||void 0===O?void 0:O.count)||m,L=R.length;if(A&&A<L){const e=R.slice(0,A),c=R.slice(A,L),s=(null===O||void 0===O?void 0:O.style)||v,i=(null===(t=null===O||void 0===O?void 0:O.popover)||void 0===t?void 0:t.trigger)||b||"hover",l=(null===(n=null===O||void 0===O?void 0:O.popover)||void 0===n?void 0:n.placement)||x||"top",d=Object.assign(Object.assign({content:c},null===O||void 0===O?void 0:O.popover),{overlayClassName:a()("".concat(S,"-popover"),null===(r=null===O||void 0===O?void 0:O.popover)||void 0===r?void 0:r.overlayClassName),placement:l,trigger:i});return e.push(o.createElement(q,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},d),o.createElement(z,{style:s},"+".concat(L-A)))),E(o.createElement(Y,{shape:f,size:h},o.createElement("div",{className:B,style:p},e)))}return E(o.createElement(Y,{shape:f,size:h},o.createElement("div",{className:B,style:p},R)))},Z=z;Z.Group=J;const $=Z;var ee=n(2166),te=n(5503);const ne="ChatPage_InputContainer__NYGGz",oe="ChatPage_Textarea__Euhta",re="ChatPage_Input__35hje";var ae=n(579);const ce=()=>{const e=(0,ee.wA)(),t=(0,ee.d4)((e=>e.chat.status));return(0,o.useEffect)((()=>(e((0,te._E)()),()=>{e((0,te.Ui)())})),[]),(0,ae.jsx)("div",{children:"error"===t?(0,ae.jsx)("div",{children:"Some error ocurred. Please refresh the page"}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(se,{}),(0,ae.jsx)(le,{})]})})},se=()=>{const e=(0,ee.d4)((e=>e.chat.messages)),[t,n]=(0,o.useState)(!0),r=(0,o.useRef)(null);(0,o.useEffect)((()=>{var e;t&&(null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]);return(0,ae.jsxs)("div",{style:{minHeight:"740px",maxHeight:"740px",overflowY:"auto"},onScroll:e=>{const o=e.currentTarget;Math.abs(o.scrollHeight-o.scrollTop-o.clientHeight)<300?!t&&n(!0):!t&&n(!1)},children:[e.map((e=>(0,ae.jsx)(ie,{message:e},e.id))),(0,ae.jsx)("div",{ref:r})]})},ie=o.memo((e=>{let{message:t}=e;return(0,ae.jsxs)("div",{style:{margin:"10px 10px"},children:[(0,ae.jsx)($,{src:t.photo}),(0,ae.jsx)("b",{children:t.userName}),(0,ae.jsx)("p",{style:{fontSize:"1rem"},children:t.message}),(0,ae.jsx)("br",{})]})})),le=()=>{const[e,t]=(0,o.useState)(""),n=(0,ee.d4)((e=>e.chat.status)),r=(0,ee.wA)(),a=()=>{""!==e.trim()&&(r((0,te._z)(e)),t(""))};return(0,ae.jsxs)("div",{className:ne,children:[(0,ae.jsx)("textarea",{className:oe,onChange:e=>t(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),a())},value:e}),(0,ae.jsx)("button",{className:re,disabled:"ready"!==n,onClick:a,children:"Send"})]})},de=()=>(0,ae.jsx)("div",{children:(0,ae.jsx)(ce,{})})}}]);
//# sourceMappingURL=920.735d505b.chunk.js.map