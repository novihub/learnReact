{"version":3,"file":"static/js/151.c8b78c1c.chunk.js","mappings":"+NAYA,MAoBA,GAJ4BA,EAAAA,EAAAA,GAA8B,CACtDC,KAAM,wBADkBD,EAdxBE,IAEIC,EAAAA,EAAAA,MAAA,QAAMC,SAAUF,EAAMG,aAAaC,SAAA,EAC9BC,EAAAA,EAAAA,IACG,qBACA,iBACA,CAACC,EAAAA,GAAUC,EAAAA,IACXC,EAAAA,KAEJC,EAAAA,EAAAA,KAAA,UAAAL,SAAQ,e,cCtBpB,QAAyB,uBCgBzB,EARuCJ,IAErCS,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAeP,UAC9BK,EAAAA,EAAAA,KAACG,EAAAA,GAAO,CAACC,GAAE,GAAAC,OAAKd,EAAMe,IAAKX,SAAEJ,EAAMgB,KAAO,IAAMhB,EAAMe,OCXzD,EAA8B,6BAA9B,EAAqE,yBAArE,EAAyG,0BAAzG,EAAgJ,4BCAhJ,EAA0B,yBCgB1B,EATwCf,IAGtCS,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAgBP,SAC9BJ,EAAMiB,QAAU,IAAMjB,EAAMe,KC8BhC,EA1BwCf,IACvC,MAAMkB,EAAalB,EAAMmB,YAAYC,QAAQC,KAAIC,IAChDb,EAAAA,EAAAA,KAACc,EAAM,CAAYP,KAAMM,EAAEN,KAAMD,GAAIO,EAAEP,IAA1BO,EAAEP,MAGVS,EAAcxB,EAAMmB,YAAYM,SAASJ,KAAIK,IAClDjB,EAAAA,EAAAA,KAACkB,EAAO,CAAYV,QAASS,EAAET,QAASF,GAAIW,EAAEX,IAAhCW,EAAEX,MAOjB,OACCd,EAAAA,EAAAA,MAAA,OAAKS,UAAWC,EAAoBP,SAAA,EACnCK,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAgBP,SAAEc,KAClCjB,EAAAA,EAAAA,MAAA,OAAKS,UAAWC,EAAiBP,SAAA,EAChCK,EAAAA,EAAAA,KAAA,OAAAL,SAAMoB,KACNf,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAmBP,UAClCK,EAAAA,EAAAA,KAACmB,EAAmB,CAAC1B,SAVF2B,IACtB7B,EAAM8B,WAAWD,EAAOE,eAAe,WAYjC,ECjBR,GAAeC,EAAAA,EAAAA,KACdC,EAAAA,EAAAA,KAfwBC,IACjB,CACNf,YAAae,EAAMf,eAaK,IAAIgB,EAAAA,IAC7BC,EAAAA,EAFD,CAGEC,E,0ECvBF,QAA2B,sCAA3B,EAAyE,mC,aCazE,MAAMC,EACJA,GACDC,IAA8D,IAA7D,MAAEC,EAAOC,MAAM,QAAEC,EAAO,MAAEC,GAAO,SAAEvC,KAAaJ,GAAOuC,EACvD,MAAMK,EAAWF,GAAWC,EAE5B,OACC1C,EAAAA,EAAAA,MAAA,OAAKS,UAAS,GAAAI,OAAKH,EAAgB,KAAAG,OAAI8B,EAAWjC,EAAgB,IAAKP,SAAA,EACtEK,EAAAA,EAAAA,KAAC6B,EAAO,IAAKE,KAAWxC,IACvB4C,IAAYnC,EAAAA,EAAAA,KAAA,QAAAL,SAAOuC,MACf,EAIInC,EAAW8B,EAAQ,YAEnBO,EAAQP,EAAQ,SAEtB,SAASjC,EACfyC,EACA9B,EACA+B,EACAC,GAGE,IAFFhD,EAAKiD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACTG,EAAIH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAEP,OACChD,EAAAA,EAAAA,MAAA,OAAAG,SAAA,EACCK,EAAAA,EAAAA,KAAC4C,EAAAA,EAAK,CACLC,SAAUP,EACVD,YAAaA,EACb9B,KAAMA,EACNgC,UAAWA,KACPhD,IAEJoD,IAGJ,C,4EC1CA,MAAMG,EAA8BrB,IAAmB,CACrDsB,OAAQtB,EAAMuB,KAAKD,SAId,SAASpB,EAAqDsB,GAInE,MAAMC,UAA0BC,EAAAA,UAC9BC,MAAAA,GACE,OAAKC,KAAK9D,MAAMwD,QAET/C,EAAAA,EAAAA,KAACiD,EAAS,IAAKI,KAAK9D,SAFIS,EAAAA,EAAAA,KAACsD,EAAAA,GAAQ,CAAClD,GAAG,UAG9C,EAKF,OAFkBoB,EAAAA,EAAAA,IAAQsB,EAEnBS,CAAUL,EACnB,C,4CC3BO,MAAMrD,EAAgC2D,IAC5C,IAAIA,EAEJ,MAAO,mBAAmB,EAGdC,EAAoBC,GAA2CF,IAC3E,GAAIA,GAASA,EAAMf,OAASiB,EAC3B,MAAM,iBAANrD,OAAwBqD,EAAS,WAElB,EAIJ5D,GADc2D,EAAiB,IAChBA,EAAiB,K","sources":["components/Dialogs/AddMessageForm/AddMessageForm.tsx","webpack://learnReact/./src/components/Dialogs/Dialog/Dialog.module.css?19be","components/Dialogs/Dialog/Dialog.tsx","webpack://learnReact/./src/components/Dialogs/Dialogs.module.css?1b2e","webpack://learnReact/./src/components/Dialogs/Message/Message.module.css?72d0","components/Dialogs/Message/Message.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx","webpack://learnReact/./src/components/hoc/FormsControls/createFormsControls.module.css?7b4f","components/hoc/FormsControls/createFormsControls.tsx","components/hoc/withAuthRedirect.tsx","utils/validators/validators.ts"],"sourcesContent":["import { InjectedFormProps, reduxForm } from 'redux-form';\nimport { maxLength100, required } from '../../../utils/validators/validators';\nimport {\n    Textarea,\n    createField\n} from '../../hoc/FormsControls/createFormsControls';\nimport { NewMessageFormType } from '../Dialogs';\nimport React from 'react';\n\ntype NewMessageFormValuesKeysType = Extract<keyof NewMessageFormType, string>;\ntype PropsType = {};\n\nconst AddMessageForm: React.FC<\n    InjectedFormProps<NewMessageFormType, PropsType> & PropsType\n> = props => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            {createField<NewMessageFormValuesKeysType>(\n                'Enter your message',\n                'newMessageBody',\n                [required, maxLength100],\n                Textarea\n            )}\n            <button>Enter</button>\n        </form>\n    );\n};\n\nconst AddMessageFormRedux = reduxForm<NewMessageFormType>({\n    form: 'dialogAddMessageForm'\n})(AddMessageForm);\n\nexport default AddMessageFormRedux;\n","// extracted by mini-css-extract-plugin\nexport default {\"Dialog\":\"Dialog_Dialog__9a9dP\"};","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport classes from './Dialog.module.css'\n\ninterface OwnPropsType {\n\tid: number\n\tname: string\n}\n\nconst Dialog: React.FC<OwnPropsType> = props => {\n\treturn (\n\t\t<div className={classes.Dialog}>\n\t\t\t<NavLink to={`${props.id}`}>{props.name + ' ' + props.id}</NavLink>\n\t\t</div>\n\t)\n}\n\nexport default Dialog\n","// extracted by mini-css-extract-plugin\nexport default {\"DialogsPage\":\"Dialogs_DialogsPage__Ov84Q\",\"Dialogs\":\"Dialogs_Dialogs__nrSsY\",\"Messages\":\"Dialogs_Messages__xK7+3\",\"addMessage\":\"Dialogs_addMessage__GG1Lt\"};","// extracted by mini-css-extract-plugin\nexport default {\"Message\":\"Message_Message__r3U20\"};","import React from 'react';\nimport classes from './Message.module.css'\n\ninterface OwnPropsType {\n\tid: number\n\tmessage: string\n}\n\nconst Message: React.FC<OwnPropsType> = props => {\n\n\treturn (\n\t\t<div className={classes.Message}>\n\t\t\t{props.message + ' ' + props.id}\n\t\t</div>\n\t)\n}\n\nexport default Message","import React from 'react'\nimport { initialStateType } from '../../redux/dialogs-reducer'\nimport AddMessageFormRedux from './AddMessageForm/AddMessageForm'\nimport Dialog from './Dialog/Dialog'\nimport classes from './Dialogs.module.css'\nimport Message from './Message/Message'\n\nexport type NewMessageFormType = {\n\tnewMessageBody: string\n}\n\ntype OwnPropsType = {\n\tdialogsPage: initialStateType\n\taddMessage: (messageText: string) => void\n}\n\nconst Dialogs: React.FC<OwnPropsType> = props => {\n\tconst getDialogs = props.dialogsPage.dialogs.map(d => (\n\t\t<Dialog key={d.id} name={d.name} id={d.id} />\n\t))\n\n\tconst getMessages = props.dialogsPage.messages.map(m => (\n\t\t<Message key={m.id} message={m.message} id={m.id} />\n\t))\n\n\tconst addNewMessage = (values: { newMessageBody: string }) => {\n\t\tprops.addMessage(values.newMessageBody)\n\t}\n\n\treturn (\n\t\t<div className={classes.DialogsPage}>\n\t\t\t<div className={classes.Dialogs}>{getDialogs}</div>\n\t\t\t<div className={classes.Messages}>\n\t\t\t\t<div>{getMessages}</div>\n\t\t\t\t<div className={classes.addMessage}>\n\t\t\t\t\t<AddMessageFormRedux onSubmit={addNewMessage} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Dialogs\n","import { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { actions } from '../../redux/dialogs-reducer'\nimport { withAuthRedirect } from '../hoc/withAuthRedirect'\nimport Dialogs from './Dialogs'\nimport { AppStateType } from '../../redux/redux-store'\n\nconst mapStateToProps = (state: AppStateType) => {\n\treturn {\n\t\tdialogsPage: state.dialogsPage\n\t}\n}\n\n// const mapDispatchToProps = dispatch => {\n// \treturn {\n// \t\taddMessage: newMessageBody => {\n// \t\t\tdispatch(actions.addMessageAC(newMessageBody))\n// \t\t}\n// \t}\n// }\n\nexport default compose<React.ComponentType>(\n\tconnect(mapStateToProps, {...actions}),\n\twithAuthRedirect\n)(Dialogs)\n","// extracted by mini-css-extract-plugin\nexport default {\"Textarea\":\"createFormsControls_Textarea__IlAFW\",\"error\":\"createFormsControls_error__CVMTv\"};","import React from 'react'\nimport { Field } from 'redux-form'\nimport { FieldValidatorType } from '../../../utils/validators/validators'\nimport classes from './createFormsControls.module.css'\n\ntype ElementParamsType = {\n\tinput: any\n\tmeta: {\n\t\ttouched: boolean\n\t\terror: string\n\t}\n\tchildren?: React.ReactNode\n}\n\nconst Element =\n\t(Element: React.FC | string): React.FC<ElementParamsType> =>\n\t({ input, meta: { touched, error }, children, ...props }) => {\n\t\tconst hasError = touched && error\n\n\t\treturn (\n\t\t\t<div className={`${classes.Textarea} ${hasError ? classes.error : ''}`}>\n\t\t\t\t<Element {...input} {...props} />\n\t\t\t\t{hasError && <span>{error}</span>}\n\t\t\t</div>\n\t\t)\n\t}\n\nexport const Textarea = Element('textarea')\n\nexport const Input = Element('input')\n\nexport function createField<LoginFormValuesTypeKeys extends string>(\n\tplaceholder: string,\n\tname: LoginFormValuesTypeKeys,\n\tvalidators: Array<FieldValidatorType>,\n\tcomponent: string | React.FC<any>,\n\tprops = {},\n\ttext = ''\n) {\n\treturn (\n\t\t<div>\n\t\t\t<Field\n\t\t\t\tvalidate={validators}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tname={name}\n\t\t\t\tcomponent={component}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t\t{text}\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport { connect, ConnectedProps } from 'react-redux'\nimport { Navigate } from 'react-router-dom'\nimport { AppStateType } from '../../redux/redux-store'\n\ntype MapStateToPropsType = {\n  isAuth: boolean\n}\n\nconst mapStateToPropsForRedirect = (state: AppStateType): MapStateToPropsType => ({\n  isAuth: state.auth.isAuth,\n})\n\n// Constrain T to include React.JSX.IntrinsicAttributes\nexport function withAuthRedirect<T extends React.ComponentType<any>>(Component: T) {\n  // Define type for props from redux\n  type PropsFromRedux = ConnectedProps<typeof connector>\n\n  class RedirectComponent extends React.Component<PropsFromRedux> {\n    render() {\n      if (!this.props.isAuth) return <Navigate to='/login' />\n      \n      return <Component {...this.props as T extends React.ComponentType<infer P> ? P : never} />\n    }\n  }\n\n  const connector = connect(mapStateToPropsForRedirect)\n  \n  return connector(RedirectComponent)\n}\n","export type FieldValidatorType = (value: string) => string | undefined\n\nexport const required: FieldValidatorType = (value) => {\n\tif (value) return undefined\n\n\treturn 'Field is required'\n}\n\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (value) => {\n\tif (value && value.length > maxLength)\n\t\treturn `Max length is ${maxLength} symbols`\n\n\treturn undefined\n}\n\nexport const maxLength10 = maxLengthCreator(10)\nexport const maxLength100 = maxLengthCreator(100)\n"],"names":["reduxForm","form","props","_jsxs","onSubmit","handleSubmit","children","createField","required","maxLength100","Textarea","_jsx","className","classes","NavLink","to","concat","id","name","message","getDialogs","dialogsPage","dialogs","map","d","Dialog","getMessages","messages","m","Message","AddMessageFormRedux","values","addMessage","newMessageBody","compose","connect","state","actions","withAuthRedirect","Dialogs","Element","_ref","input","meta","touched","error","hasError","Input","placeholder","validators","component","arguments","length","undefined","text","Field","validate","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent","React","render","this","Navigate","connector","value","maxLengthCreator","maxLength"],"sourceRoot":""}