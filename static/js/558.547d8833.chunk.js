"use strict";(self.webpackChunklearnReact=self.webpackChunklearnReact||[]).push([[558],{5558:(e,s,t)=>{t.r(s),t.d(s,{default:()=>w});var o=t(5043),i=t(2166),r=t(3216),a=t(805),l=t(5107),n=t(6597);const d={},c="ProfileInfo_Profile__ySV0h",u="ProfileInfo_ProfileInfo__Z8dFK",h="ProfileInfo_Avatar__Y-nEA";var p=t(4441),f=t(3842),j=t(820),v=t(2202),A=t(579);const b=(0,f.A)({form:"edit-profile"})((e=>{let{handleSubmit:s,profile:t,error:o}=e;return(0,A.jsxs)("form",{onSubmit:s,children:[(0,A.jsx)("button",{children:"Save"}),o&&(0,A.jsx)("div",{className:v.A.FormSummaryError,children:o}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Full Name: "}),(0,j.Fv)("Full name","fullName",[],j.pd)]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Looking for a job: "}),(0,j.Fv)("","lookingForAJob",[],j.pd,{type:"checkbox"})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"My professional skills :"}),(0,j.Fv)("My professional skills","lookingForAJobDescription",[],j.TM)]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"About me :"}),(0,j.Fv)("About me","aboutMe",[],j.TM)]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Contacts: "})," ",Object.keys(t.contacts).map((e=>(0,A.jsx)("div",{children:(0,A.jsxs)("b",{children:[e,": ",(0,j.Fv)(e,"contacts.".concat(e),[],j.pd)]})},e)))]})]})})),x="ProfileStatus_ProfileStatus__9f4bE",m=e=>{const[s,t]=(0,o.useState)(!1),[i,r]=(0,o.useState)(e.status);(0,o.useEffect)((()=>{r(e.status)}),[e.status]);return(0,A.jsx)("div",{className:x,children:s?(0,A.jsx)("div",{children:(0,A.jsx)("input",{autoFocus:!0,onBlur:()=>{t(!1),e.updateStatus(i)},onChange:e=>{r(e.currentTarget.value)},value:i})}):(0,A.jsx)("div",{children:(0,A.jsx)("p",{onDoubleClick:()=>{t(!0)},children:e.status||"No status"})})})},g=e=>{let{contactTitle:s,contactValue:t}=e;return(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:s}),": ",t]})},S=e=>{let{profile:s,isOwner:t,goToEditMode:o}=e;return(0,A.jsxs)("div",{children:[t&&(0,A.jsx)("button",{onClick:o,children:"Edit"}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Full Name: "}),s.fullName]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Looking for a job: "}),s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"My professional skills:"}),s.lookingForAJobDescription]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"About me:"})," ",s.aboutMe]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{children:"Contacts:"}),Object.keys(s.contacts).map((e=>(0,A.jsx)(g,{contactTitle:e,contactValue:s.contacts[e]||""},e)))]})]})},P=e=>{const[s,t]=(0,o.useState)(!1);if(!e.profile)return(0,A.jsx)(n.A,{});const{photos:i}=e.profile;return(0,A.jsxs)("div",{className:c,children:[(0,A.jsxs)("div",{className:h,children:[(0,A.jsx)("img",{src:i.large||p,alt:"Profile"}),e.isOwner&&(0,A.jsx)("input",{type:"file",onChange:s=>{s.target.files&&s.target.files.length&&e.savePhoto(s.target.files[0])}})]}),(0,A.jsxs)("div",{className:u,children:[(0,A.jsx)(m,{status:e.status,updateStatus:e.updateStatus}),s?(0,A.jsx)(b,{initialValues:e.profile,profile:e.profile,onSubmit:s=>{if(!e.profile)return;const o={...e.profile,...s,id:e.profile.id};e.saveProfile(o).then((()=>{t(!1)}))}}):(0,A.jsx)(S,{profile:e.profile,isOwner:e.isOwner,goToEditMode:()=>t(!0)})]})]})},F=e=>(0,A.jsx)("div",{className:d.Profile,children:(0,A.jsx)(P,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile})}),w=(0,a.Zz)((0,i.Ng)((e=>({profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth})),{setUserProfile:l.p,getStatus:l.BS,updateStatus:l.yB,savePhoto:l.Ah,saveProfile:l.Lt}))((e=>{let{setUserProfile:s,getStatus:t,profile:i,status:a,updateStatus:l,authorizedUserId:d,isAuth:c,savePhoto:u,saveProfile:h}=e;const[p,f]=(0,o.useState)(!1),[j,v]=(0,o.useState)(!0),{userId:b}=(0,r.g)(),x=b?Number(b):d;return(0,o.useEffect)((()=>{(async()=>{if(x){v(!0);try{await s(x),await t(x),f(Number(x)===Number(d))}finally{v(!1)}}})()}),[x,s,t,d]),c||x?(0,A.jsx)(A.Fragment,{children:j?(0,A.jsx)(n.A,{}):(0,A.jsx)(F,{isOwner:p,profile:i,status:a,updateStatus:l,savePhoto:u,saveProfile:h})}):(0,A.jsx)(r.C5,{to:"/login"})}))},820:(e,s,t)=>{t.d(s,{pd:()=>d,TM:()=>n,Fv:()=>c});t(5043);var o=t(5963);const i="createFormsControls_Textarea__IlAFW",r="createFormsControls_error__CVMTv";var a=t(579);const l=e=>s=>{let{input:t,meta:{touched:o,error:l},children:n,...d}=s;const c=o&&l;return(0,a.jsxs)("div",{className:"".concat(i," ").concat(c?r:""),children:[(0,a.jsx)(e,{...t,...d}),c&&(0,a.jsx)("span",{children:l})]})},n=l("textarea"),d=l("input");function c(e,s,t,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,a.jsxs)("div",{children:[(0,a.jsx)(o.A,{validate:t,placeholder:e,name:s,component:i,...r}),l]})}},2202:(e,s,t)=>{t.d(s,{A:()=>o});const o={Login:"Login_Login__VdlKH",FormSummaryError:"Login_FormSummaryError__JXw3A"}},4441:e=>{e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=558.547d8833.chunk.js.map