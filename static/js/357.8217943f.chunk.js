"use strict";(self.webpackChunklearnReact=self.webpackChunklearnReact||[]).push([[357],{2357:(e,s,l)=>{l.r(s),l.d(s,{default:()=>R});var a=l(5043),n=l(2166),t=l(3216),i=l(189);const r=e=>e.usersPage.users,o=e=>e.usersPage.pageSize,d=e=>e.usersPage.totalUsersCount,c=e=>e.usersPage.currentPage,h=e=>e.usersPage.isFetching,u=e=>e.usersPage.followingInProgress,g=e=>e.usersPage.filter,p="Paginator_selectedPage__CRNLp",A="Paginator_PageNumbers__-iRYo",j="Paginator_PageNumber__sj7AQ";var v=l(579);const m=e=>{let s,{totalUsersCount:l,pageSize:a,currentPage:n,onPageChanged:t}=e,i=Math.ceil(l/a),r=[];for(let d=1;d<=i;d++)r.push(d);let o=n;return s=o-6<0?r.slice(0,10):r.slice(o-6,o+5),(0,v.jsx)("div",{className:A,children:s.map((e=>(0,v.jsx)("span",{onClick:()=>t(e),className:"".concat(j," ").concat(n===e?p:""),children:e},e)))})};var b=l(5475),S=l(4441);const w="User_User__isonU",P="User_UserImg__ky4D4",f=e=>{var s,l,a;let{user:t}=e;const r=(0,n.d4)(u),o=(0,n.wA)();return(0,v.jsxs)("div",{className:w,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(b.k2,{to:"/profile/"+t.id,children:(0,v.jsx)("img",{className:P,src:(null===(s=t.photos)||void 0===s?void 0:s.small)||S,alt:""})}),(0,v.jsx)("div",{children:t.followed?(0,v.jsx)("button",{disabled:r.includes(t.id),onClick:()=>{o((0,i.X2)(t.id))},children:"Unfollow"}):(0,v.jsx)("button",{disabled:r.includes(t.id),onClick:()=>{o((0,i.e6)(t.id))},children:"Follow"})})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{children:t.name}),(0,v.jsx)("h5",{children:t.status}),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{children:(null===(l=t.location)||void 0===l?void 0:l.country)||"Unknown country"}),(0,v.jsx)("p",{children:(null===(a=t.location)||void 0===a?void 0:a.city)||"Unknown city"})]})]})]})},x="Users_Users__i6ydy";var U=l(1511);const F=e=>({}),k=e=>{let{onFilterChanged:s,filter:l}=e;return(0,v.jsx)("div",{children:(0,v.jsx)(U.l1,{initialValues:{...l},validate:F,onSubmit:(e,l)=>{let{setSubmitting:a}=l;s(e),a(!1)},children:e=>{let{values:s,handleChange:l,handleBlur:a,handleSubmit:n,isSubmitting:t}=e;return(0,v.jsxs)(U.lV,{onSubmit:n,children:[(0,v.jsx)(U.D0,{type:"text",name:"term",placeholder:"Search",onChange:l,onBlur:a,value:s.term}),(0,v.jsxs)(U.D0,{as:"select",name:"isFollowed",children:[(0,v.jsx)("option",{value:"null",children:"All"}),(0,v.jsx)("option",{value:"true",children:"Followed"}),(0,v.jsx)("option",{value:"false",children:"Unfollowed"})]}),(0,v.jsx)("button",{type:"submit",disabled:t,children:"Search"})]})}})})};var B=l(6597);const R=()=>{const e=(0,n.d4)(d),s=(0,n.d4)(c),l=(0,n.d4)(o),u=(0,n.d4)(r),p=(0,n.d4)(g),A=(0,n.d4)(h),j=(0,n.wA)(),b=(0,t.zy)(),S=(0,t.Zp)();(0,a.useEffect)((()=>{const e=new URLSearchParams;e.set("page",String(s)),e.set("count",String(l)),e.set("term",p.term),e.set("friend",String(p.isFollowed)),S({pathname:"/users",search:e.toString()})}),[p,s,l,S]),(0,a.useEffect)((()=>{const e=new URLSearchParams(b.search);let a=s,n=p;const t=e.get("friend"),r=e.get("page"),o=e.get("term");switch(r&&(a=+r),o&&(n={...n,term:o}),t){case"null":n={...n,isFollowed:null};break;case"true":n={...n,isFollowed:!0};break;case"false":n={...n,isFollowed:!1}}j((0,i.pb)(a,l,n))}),[b.search,j]);return A?(0,v.jsx)(B.A,{}):(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h1",{children:"Search"}),(0,v.jsx)(k,{onFilterChanged:e=>{j((0,i.pb)(1,l,e))},filter:p})]}),(0,v.jsx)("div",{className:x,children:u.map((e=>(0,v.jsx)(f,{user:e},e.id)))}),(0,v.jsx)(m,{totalUsersCount:e,pageSize:l,currentPage:s,onPageChanged:e=>{j((0,i.pb)(e,l,p))}})]})}},4441:e=>{e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=357.8217943f.chunk.js.map